<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>INTER MEDIA</title>

  <script src="https://content.jwplatform.com/libraries/IDzF9Zmk.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.1/css/all.min.css">
  <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="https://akomov.com/todapi/jw_ako.css">

  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    html, body {
      width: 100%;
      height: 100%;
      overflow: hidden;
      background-color: black;
      font-family: 'Tajawal', sans-serif;
      font-weight: 700;
    }
    .jwplayer * { font-family: 'Tajawal', sans-serif !important; }
    #my-jwplayer-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      z-index: 1000;
    }
    #my-jwplayer {
      width: 100% !important;
      height: 100% !important;
      display: block;
    }
    .jw-wrapper, .jw-media {
      width: 100% !important;
      height: 100% !important;
    }
    .jw-expandButton svg { width: 24px; height: 24px; }
    .watermark {
      position: absolute;
      bottom: 10px;
      left: 8px;
      z-index: 1000;
      display: none;
      transition: bottom 0.3s ease;
    }
    .watermark img {
      width: 75px;
      height: auto;
      opacity: 0.8;
    }
  </style>
</head>

<body>
  <div id="my-jwplayer-container">
    <div id="my-jwplayer"></div>
  </div>

  <script>
    document.addEventListener("DOMContentLoaded", function() {
      const expandSvg = `<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="white" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
        <path d="M15 3h6v6M9 21H3v-6M21 3l-7 7M3 21l7-7"/>
      </svg>`;

      let isExpanded = false;

      const drmConfig = {
        clearkey: {
          keyId: "b253c726c24c7c94a3ddf9b1907e2c76",
          key: "097963d6ad73c3d712a104981de0ed42"
        },
        widevine: {
          url: "https://widevine-proxy.appspot.com/proxy",
          headers: [{ name: "Content-Type", value: "application/octet-stream" }],
          withCredentials: false
        }
      };

      const player = jwplayer("my-jwplayer").setup({
        playlist: [{
          file: "https://sps1.starzplayarabia.com/out/v1/eee188845e9543699fd24e5a9890c6e2/index.mpd",
          type: "mpd",
          drm: {
            widevine: drmConfig.widevine,
            clearkey: drmConfig.clearkey
          }
        }],
        width: "100%",
        height: "100%",
        aspectratio: "16:9",
        autostart: true,
        mute: false,
        localization: {
          liveBroadcast: "مباشر"
        }
      });

      player.addButton(
        expandSvg,
        'تمديد الفيديو',
        function() {
          const videoElement = document.querySelector("#my-jwplayer video");
          if (videoElement) {
            videoElement.style.objectFit = isExpanded ? 'fill' : 'contain';
            isExpanded = !isExpanded;

            const button = document.querySelector('.jw-expandButton');
            if (button) {
              button.setAttribute('aria-label', isExpanded ? 'تصغير الفيديو' : 'تمديد الفيديو');
            }
          }
        },
        'expandButton'
      );

      player.on('ready', function() {
        const container = document.querySelector("#my-jwplayer .jw-wrapper");
        if (container) {
          const watermark = document.createElement("a");
          watermark.href = "https://t.me/Inter_Media1";
          watermark.target = "_blank";
          watermark.classList.add("watermark");

          const image = document.createElement("img");
          image.src = "https://i.postimg.cc/X72mYMnD/Picsart-25-05-05-17-50-32-460.png";
          image.alt = "علامة مائية";

          watermark.appendChild(image);
          container.appendChild(watermark);

          document.addEventListener("fullscreenchange", function() {
            watermark.style.display = document.fullscreenElement ? "block" : "none";
          });

          const jwWrapper = document.querySelector("#my-jwplayer .jw-wrapper");
          if (jwWrapper) {
            jwWrapper.addEventListener("mousedown", function() {
              watermark.style.bottom = "35px";
              clearTimeout(watermark._resetTimeout);
              watermark._resetTimeout = setTimeout(() => {
                watermark.style.bottom = "10px";
              }, 950);
            });
          }
        }
      });
    });

    document.addEventListener('contextmenu', e => e.preventDefault());
    document.addEventListener('keydown', function(e) {
      if (e.key === "F12" || 
          (e.ctrlKey && e.shiftKey && (e.key === "I" || e.key === "J" || e.key === "C")) || 
          (e.ctrlKey && e.key === "U")) {
        e.preventDefault();
      }
    });
  </script>
</body>
</html>
